webpackJsonp([24],{BKpv:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={data:function(){return{inputVal:"",currentPage:1,pageSize:10,totalPage:"",total:0,tableData:[],province:"",provincesList:[],manageUnit:"",manageUnitsList:[],examLevel:"",examLevelsList:[],examResult:"",examResults:[{value:-1,label:"全部"},{value:0,label:"未考试"},{value:1,label:"未通过"},{value:2,label:"通过未认证"},{value:3,label:"通过已认证"},{value:4,label:"已取消考试"}],pickerTime:"",certificateNo:""}},methods:{getData:function(e){var a=this;this.$http.get("/api/exam/status_list",{params:e}).then(function(e){0===e.data.code&&(console.log(e.data.data,"ddd"),a.tableData=[],a.total=e.data.data.examStatusList.total,a.totalPage=e.data.data.examStatusList.totalPage,a.pageSize=e.data.data.examStatusList.pageSize,a.currentPage=e.data.data.examStatusList.page,a.tableData=e.data.data.examStatusList.rows,a.provincesList=e.data.data.areaList,a.provincesList.unshift({areaName:"全部",id:0}),a.manageUnitsList=e.data.data.unitsList,a.manageUnitsList.unshift({unitName:"全部",id:0}),a.examLevelsList=e.data.data.levelList,a.examLevelsList.unshift({levelName:"全部",id:0}))})},handleCurrentChange:function(e){var a=new URLSearchParams;a.append("page",e),""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.province?a.append("provinceCode",this.province):a.append("provinceCode",0),""!==this.manageUnit?a.append("manageUnit",this.manageUnit):a.append("manageUnit",0),""!==this.examLevel?a.append("examLevel",this.examLevel):a.append("examLevel",0),""!==this.examResult?a.append("examResult",this.examResult):a.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.getData(a)},searchData:function(){var e=new URLSearchParams;e.append("str",this.inputVal),""!==this.province?e.append("provinceCode",this.province):e.append("provinceCode",0),""!==this.manageUnit?e.append("manageUnit",this.manageUnit):e.append("manageUnit",0),""!==this.examLevel?e.append("examLevel",this.examLevel):e.append("examLevel",0),""!==this.examResult?e.append("examResult",this.examResult):e.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(e.append("beginTime",this.pickerTime[0]),e.append("endTime",this.pickerTime[1])),this.getData(e)},changeProvince:function(e){var a=new URLSearchParams;this.province=e,a.append("provinceCode",e),""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.manageUnit?a.append("manageUnit",this.manageUnit):a.append("manageUnit",0),""!==this.examLevel?a.append("examLevel",this.examLevel):a.append("examLevel",0),""!==this.examResult?a.append("examResult",this.examResult):a.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.getData(a)},changeManageUnit:function(e){var a=new URLSearchParams;this.manageUnit=e,a.append("manageUnit",e),""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.province?a.append("provinceCode",this.province):a.append("provinceCode",0),""!==this.examLevel?a.append("examLevel",this.examLevel):a.append("examLevel",0),""!==this.examResult?a.append("examResult",this.examResult):a.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.getData(a)},changeExamLevel:function(e){var a=new URLSearchParams;this.examLevel=e,a.append("examLevel",e),""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.province?a.append("provinceCode",this.province):a.append("provinceCode",0),""!==this.manageUnit?a.append("manageUnit",this.manageUnit):a.append("manageUnit",0),""!==this.examResult?a.append("examResult",this.examResult):a.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.getData(a)},changeExamResult:function(e){var a=new URLSearchParams;this.examResult=e,a.append("examResult",e),""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.province?a.append("provinceCode",this.province):a.append("provinceCode",0),""!==this.manageUnit?a.append("manageUnit",this.manageUnit):a.append("manageUnit",0),""!==this.examLevel?a.append("examLevel",this.examLevel):a.append("examLevel",0),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.getData(a)},changePickerTime:function(e){var a=new URLSearchParams;""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.province?a.append("provinceCode",this.province):a.append("provinceCode",0),""!==this.manageUnit?a.append("manageUnit",this.manageUnit):a.append("manageUnit",0),""!==this.examLevel?a.append("examLevel",this.examLevel):a.append("examLevel",0),""!==this.examResult?a.append("examResult",this.examResult):a.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.getData(a)},handleDownload:function(){var e=this,a=new URLSearchParams;""!==this.inputVal?a.append("str",this.inputVal):a.append("str",""),""!==this.province?a.append("provinceCode",this.province):a.append("provinceCode",0),""!==this.manageUnit?a.append("manageUnit",this.manageUnit):a.append("manageUnit",0),""!==this.examLevel?a.append("examLevel",this.examLevel):a.append("examLevel",0),""!==this.examResult?a.append("examResult",this.examResult):a.append("examResult",-1),""!==this.pickerTime&&null!==this.pickerTime&&(a.append("beginTime",this.pickerTime[0]),a.append("endTime",this.pickerTime[1])),this.$http.get("/api/exam/export_list_all",{params:a}).then(function(a){e.tableData=a.data.data,t.e(26).then(function(){var a=t("zWO4").export_json_to_excel,i=e.tableData;a(["省份","管理单位","姓名","证件号","联系方式","级别","报考级别","考试时间","考试状态"],e.formatJson(["province","manageUnitName","playerName","certificateNo","phone","chessLevelName","examLevelName","examTimeStr","resultName"],i),"导出的excel表")}.bind(null,t)).catch(t.oe)})},formatJson:function(e,a){return a.map(function(a){return e.map(function(e){return a[e]})})}},created:function(){var e=new URLSearchParams;e.append("provinceCode",0),e.append("areaLevel",1),e.append("manageUnit",0),e.append("examLevel",0),e.append("examResult",-1),this.getData(e)}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"examStatus commonRight"},[t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-kaoshizhuangtaichaxun-"}),e._v("考试状态查询")]),e._v(" "),t("div",{staticClass:"top"},[t("div",{staticClass:"search"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputVal,expression:"inputVal",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入考生姓名/证件号"},domProps:{value:e.inputVal},on:{input:function(a){a.target.composing||(e.inputVal=a.target.value.trim())},blur:function(a){return e.$forceUpdate()}}}),e._v(" "),t("el-button",{attrs:{circle:""},on:{click:e.searchData}},[e._v("搜索")])],1),e._v(" "),t("el-button",{attrs:{type:"primary",round:"",icon:"iconfont icon-yijiandaochu"},on:{click:e.handleDownload}},[e._v("一键导出")]),e._v(" "),t("p",{staticClass:"NoFloat"},[e._v("共有"),t("span",[e._v(e._s(e.total))]),e._v("/"),t("span",[e._v(e._s(e.total))]),e._v("条结果")])],1),e._v(" "),t("div",{staticClass:"top",attrs:{id:"topSearch"}},[t("el-select",{attrs:{placeholder:"全部省份"},on:{change:e.changeProvince},model:{value:e.province,callback:function(a){e.province=a},expression:"province"}},e._l(e.provincesList,function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.areaName}})}),1),e._v(" "),t("el-select",{attrs:{placeholder:"全部管理单位"},on:{change:e.changeManageUnit},model:{value:e.manageUnit,callback:function(a){e.manageUnit=a},expression:"manageUnit"}},e._l(e.manageUnitsList,function(e){return t("el-option",{key:e.id,attrs:{label:e.unitName,value:e.id}})}),1),e._v(" "),t("el-select",{attrs:{placeholder:"全部报考级别"},on:{change:e.changeExamLevel},model:{value:e.examLevel,callback:function(a){e.examLevel=a},expression:"examLevel"}},e._l(e.examLevelsList,function(e){return t("el-option",{key:e.id,attrs:{label:e.levelName,value:e.id}})}),1),e._v(" "),t("el-select",{attrs:{placeholder:"全部考试状态"},on:{change:e.changeExamResult},model:{value:e.examResult,callback:function(a){e.examResult=a},expression:"examResult"}},e._l(e.examResults,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),t("el-date-picker",{attrs:{type:"daterange",format:"yyyy - MM - dd ","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changePickerTime},model:{value:e.pickerTime,callback:function(a){e.pickerTime=a},expression:"pickerTime"}})],1),e._v(" "),t("div",{staticClass:"tabs-data",attrs:{id:"tableStatus"}},[t("el-table",{staticStyle:{width:"1130px"},attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{prop:"province",label:"省份",width:"134"}}),e._v(" "),t("el-table-column",{attrs:{prop:"manageUnitName",label:"管理单位",width:"195"}}),e._v(" "),t("el-table-column",{attrs:{prop:"playerName",label:"姓名",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"certificateNo",label:"证件号",width:"166"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"111"}}),e._v(" "),t("el-table-column",{attrs:{prop:"chessLevelName",label:"级别",width:"58"}}),e._v(" "),t("el-table-column",{attrs:{prop:"examLevelName",label:"报考级别",width:"81"}}),e._v(" "),t("el-table-column",{attrs:{prop:"examTimeStr",label:"考试时间",width:"160"}}),e._v(" "),t("el-table-column",{attrs:{label:"考试状态"},scopedSlots:e._u([{key:"default",fn:function(a){return["未考试"===a.row.resultName?t("span",{staticStyle:{color:"#000000"}},[e._v("待考试")]):"未通过"===a.row.resultName?t("span",{staticStyle:{color:"#F92020"}},[e._v("未通过")]):"通过未认证"===a.row.resultName?t("span",{staticStyle:{color:"#0067F1"}},[e._v("通过未认证")]):"通过已认证"===a.row.resultName?t("span",{staticStyle:{color:"#42D781"}},[e._v("通过已认证")]):"已取消考试"===a.row.resultName?t("span",{staticStyle:{color:"#6F6F6F"}},[e._v("已取消考试")]):e._e()]}}])})],1),e._v(" "),t("el-pagination",{attrs:{background:"",total:e.total,layout:"prev, pager, next","current-page":e.currentPage},on:{"current-change":e.handleCurrentChange}})],1)])],1)],1)])},staticRenderFns:[]};var p=t("C7Lr")(i,n,!1,function(e){t("pwc3")},"data-v-0244e8d8",null);a.default=p.exports},pwc3:function(e,a){}});
//# sourceMappingURL=24.41d927737733d165d8e2.js.map
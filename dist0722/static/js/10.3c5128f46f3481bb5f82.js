webpackJsonp([10],{azMK:function(t,e){},fnqW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{commonTop:a("a8s2").a},data:function(){return{titleTop:"新增考场",manageUnitList:[],investUnitList:[],cityList:[],provinceList:[],districList:[],province:"",manageUnit:"",investUnit:[],city:"",distric:"",address:"",seatSize:"",spareSeatSize:"",showNum:!1,disabled:!1,number:"",examRoomName:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",j:""}},methods:{handleput:function(){var t=this,e=new URLSearchParams;if(this.manageUnit?(this.a=!0,e.append("manageUnit",this.manageUnit)):this.a=!1,this.investUnit?(this.b=!0,e.append("investUnit",this.investUnit.join(","))):this.b=!1,this.province){this.c=!0;var a=this.provinceList.filter(function(e){return e.id===t.province})[0].areaName;e.append("province",a),e.append("provinceCode",this.province)}else this.c=!1;if(this.city){this.d=!0;var i=this.cityList.filter(function(e){return e.id===t.city})[0].areaName;e.append("city",i),e.append("cityCode",this.city)}else this.d=!1;if(this.distric){this.e=!0;var s=this.districList.filter(function(e){return e.id===t.distric})[0].areaName;e.append("distric",s),e.append("districCode",this.distric)}else this.e=!1;this.address?(this.f=!0,e.append("address",this.address)):this.f=!1,this.seatSize?(this.g=!0,e.append("seatSize",this.seatSize)):this.g=!1,this.spareSeatSize?(this.h=!0,e.append("spareSeatSize",this.spareSeatSize)):this.h=!1,this.examRoomName?(this.j=!0,e.append("examRoomName",this.examRoomName)):this.j=!1,this.a&&this.b&&this.c&&this.d&&this.e&&this.f&&this.g&&this.h&&this.j?(this.showNum=!0,this.disabled=!0,this.$http.post("/api/room/add_room",e).then(function(e){0===e.data.code&&(console.log(e.data.data),t.number=e.data.data)})):this.$message.error("需要完善全部数据后才可以点击提交")},handlesent:function(){this.$router.push({name:"examManage"})},selectProvince:function(t){var e=this;this.city="",this.distric="";var a=new URLSearchParams;a.append("parentId",t),this.$http.get("/api/area/get_area_by_parentid",{params:a}).then(function(t){0===t.data.code&&(e.cityList=t.data.data.areaList)})},selectCity:function(t){var e=this;this.distric="";var a=new URLSearchParams;a.append("parentId",t),this.$http.get("/api/area/get_area_by_parentid",{params:a}).then(function(t){0===t.data.code&&(e.districList=t.data.data.areaList)})},selectDistric:function(t){this.examRoomName=this.districList.filter(function(e){return e.id===t})[0].areaName+"考场"}},created:function(){var t=this,e=new URLSearchParams;e.append("unitType",1),this.$http.get("/api/units/list",{params:e}).then(function(e){0===e.data.code&&(t.manageUnitList=e.data.data,t.investUnitList=e.data.data)}),this.$http.get("/api/area/get_area_by_parentid?parentId=100000").then(function(e){0===e.data.code&&(t.provinceList=e.data.data.areaList)})}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addroom"},[a("commonTop",{attrs:{titleTop:t.titleTop}}),t._v(" "),a("div",{staticClass:"examRoomInfo"},[a("div",{staticClass:"prov unit"},[a("span",{staticClass:"commontips"},[t._v("管理单位:")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",disabled:t.disabled},model:{value:t.manageUnit,callback:function(e){t.manageUnit=e},expression:"manageUnit"}},t._l(t.manageUnitList,function(t){return a("el-option",{key:t.id,attrs:{label:t.unitName,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"prov invenunit"},[a("span",{staticClass:"commontips"},[t._v("投资单位:")]),t._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择",disabled:t.disabled},model:{value:t.investUnit,callback:function(e){t.investUnit=e},expression:"investUnit"}},t._l(t.investUnitList,function(t){return a("el-option",{key:t.id,attrs:{label:t.unitName,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"prov"},[a("span",{staticClass:"commontips"},[t._v("考场地址:(省)")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",disabled:t.disabled},on:{change:t.selectProvince},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"prov"},[a("span",{staticClass:"commontips"},[t._v("市")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",disabled:t.disabled},on:{change:t.selectCity},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"prov"},[a("span",{staticClass:"commontips"},[t._v("区/县")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",disabled:t.disabled},on:{change:t.selectDistric},model:{value:t.distric,callback:function(e){t.distric=e},expression:"distric"}},t._l(t.districList,function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"prov address"},[a("span",{staticClass:"commontips"},[t._v("详细地址:")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入地址",disabled:t.disabled},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),t._v(" "),a("div",{staticClass:"prov examNamed"},[a("span",{staticClass:"commontips"},[t._v("考场命名:")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled},model:{value:t.examRoomName,callback:function(e){t.examRoomName=e},expression:"examRoomName"}})],1),t._v(" "),a("div",{staticClass:"prov"},[a("span",{staticClass:"commontips"},[t._v("考场总座位数(个)")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled},model:{value:t.seatSize,callback:function(e){t.seatSize=t._n(e)},expression:"seatSize"}})],1),t._v(" "),a("div",{staticClass:"prov"},[a("span",{staticClass:"commontips"},[t._v("备用座位数(个)")]),t._v(" "),a("el-input",{attrs:{disabled:t.disabled},model:{value:t.spareSeatSize,callback:function(e){t.spareSeatSize=t._n(e)},expression:"spareSeatSize"}})],1)]),t._v(" "),1==t.showNum?a("div",{staticClass:"createNumber"},[a("p",[t._v("考场编号:"+t._s(t.number))])]):t._e(),t._v(" "),a("div",{staticStyle:{"text-align":"center",width:"100%"}},[0==t.showNum?a("el-button",{staticStyle:{background:"#1f91b5",width:"145px",heiht:"40px","font-size":"16px","margin-top":"38px"},attrs:{type:"primary",round:""},on:{click:t.handleput}},[t._v("提交")]):t._e(),t._v(" "),1==t.showNum?a("el-button",{staticStyle:{background:"#1f91b5",width:"145px",heiht:"40px","font-size":"16px","margin-top":"38px"},attrs:{type:"primary",round:""},on:{click:t.handlesent}},[t._v("完成")]):t._e()],1)],1)},staticRenderFns:[]};var n={name:"addRoom",components:{addRoomComponent:a("C7Lr")(i,s,!1,function(t){a("y12y")},"data-v-92fffdae",null).exports},data:function(){return{}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"exammanage"},[e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"iconfont icon-kaochangguanli-"}),this._v("考场管理")]),this._v(" "),e("addRoomComponent")],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(n,r,!1,function(t){a("azMK")},"data-v-373bbb3c",null);e.default=o.exports},y12y:function(t,e){}});
//# sourceMappingURL=10.3c5128f46f3481bb5f82.js.map
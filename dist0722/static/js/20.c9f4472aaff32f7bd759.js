webpackJsonp([20],{"2Ltm":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={data:function(){return{tableData:[],unitsList:[],levelList:[],itemDifficulty:"",currManageUnit:"",dataType:1,currentPage:1,pageSize:10,totalPage:null,total:null}},methods:{indexMethod:function(t){return t+1+this.pageSize*(this.currentPage-1)},getData:function(t){var a=this;this.$http.get("/api/standard/standard_list",{params:t}).then(function(t){a.tableData=[],console.log(t,"88"),a.total=t.data.data.standPage.total,a.pageSize=t.data.data.standPage.pageSize,a.currentPage=t.data.data.standPage.page,a.totalPage=t.data.data.standPage.totalPage,a.tableData=t.data.data.standPage.rows,a.unitsList=t.data.data.unitsList,a.unitsList.unshift({unitName:"全部",id:0}),a.levelList=t.data.data.levelList,a.tableData.forEach(function(t,e){t.manageUnit=a.unitsList.filter(function(a){return a.id===t.manageUnit})[0].unitName,t.examLevel=a.levelList.filter(function(a){return a.id===t.examLevel})[0].levelName,t.itemDifficulty=a.levelList.filter(function(a){return a.id===parseInt(t.itemDifficulty)})[0].levelName,t.updatedTime=t.updatedTime.split(" ")[0]})})},handleAddStandard:function(){this.$router.push({name:"addStandard"})},handleCurrentChange:function(t){var a=new URLSearchParams;a.append("page",t),a.append("dataType",this.dataType),a.append("userId",1),""!==this.currManageUnit?a.append("manageUnit",this.currManageUnit):a.append("manageUnit",0),this.getData(a)},changeManageUnit:function(t){var a=new URLSearchParams;this.manageUnit=t,a.append("manageUnit",t),a.append("userId",1),a.append("dataType",this.dataType),this.getData(a)},modifyData:function(t){this.$router.push({name:"updateStandard",query:{id:t}})},handldetails:function(t){this.$router.push({name:"standardDetail",query:{id:t}})}},created:function(){var t=new URLSearchParams;t.append("manageUnit",0),t.append("userId",1),t.append("dataType",1),this.getData(t)}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"standard"},[e("div",{staticClass:"top"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus",round:""},on:{click:t.handleAddStandard}},[t._v("新增标准")]),t._v(" "),e("el-select",{attrs:{placeholder:"全部管理单位"},on:{change:t.changeManageUnit},model:{value:t.currManageUnit,callback:function(a){t.currManageUnit=a},expression:"currManageUnit"}},t._l(t.unitsList,function(t){return e("el-option",{key:t.id,attrs:{label:t.unitName,value:t.id}})}),1),t._v(" "),e("p",[t._v("共有"),e("span",[t._v(t._s(t.total))]),t._v("/"),e("span",[t._v(t._s(t.total))]),t._v("条结果")])],1),t._v(" "),e("div",{staticClass:"tabs-data"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号",width:"74"}}),t._v(" "),e("el-table-column",{attrs:{prop:"manageUnit",label:"管理单位",width:"165"}}),t._v(" "),e("el-table-column",{attrs:{prop:"examLevel",label:"级别",sortable:"",width:"78"}}),t._v(" "),e("el-table-column",{attrs:{label:"题库难度",width:"104"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.itemDifficulty))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"知识体系",width:"245"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.knowledgeHierarchy.replace(/@/g,"")))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"examLength",label:"考试时长",width:"88"}}),t._v(" "),e("el-table-column",{attrs:{prop:"examServiceFee",label:"考试服务费",width:"106"}}),t._v(" "),e("el-table-column",{attrs:{prop:"certificationServiceFee",label:"认证服务费",width:"110"}}),t._v(" "),e("el-table-column",{attrs:{prop:"updatedTime",label:"修改时间",width:"133"}}),t._v(" "),e("el-table-column",{attrs:{prop:"updatedUser",label:"修改人",width:"95"}}),t._v(" "),e("el-table-column",{attrs:{label:"管理操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",icon:"iconfont icon-xiugai-"},on:{click:function(e){return e.preventDefault(),t.modifyData(a.row.id)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{type:"text",icon:"iconfont icon-xiangqing"},on:{click:function(e){return e.preventDefault(),t.handldetails(a.row.id)}}},[t._v("详情")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{background:"",total:t.total,layout:"prev, pager, next","current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var l=e("C7Lr")(n,i,!1,function(t){e("g6RE")},null,null);a.default=l.exports},g6RE:function(t,a){}});
//# sourceMappingURL=20.c9f4472aaff32f7bd759.js.map
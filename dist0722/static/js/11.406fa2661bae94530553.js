webpackJsonp([11],{O4XX:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("a8s2"),o=e("pPmT"),r={inject:["reload"],components:{commonTop:n.a},data:function(){return{titleTop:"已冻结考场",currentPage:null,pageSize:10,totalPage:null,total:null,isDisable:!1,tableData:[],unitsList:[]}},methods:{getData:function(t,a){var e=this;this.tableData=[],this.$http.get(t,a).then(function(t){console.log(t,11111),e.total=t.data.data.roomPage.total,e.totalPage=t.data.data.roomPage.totalPage,e.pageSize=t.data.data.roomPage.pageSize,e.currentPage=t.data.data.roomPage.page;var a=t.data.data.roomPage.rows;e.unitsList=t.data.data.unitsList,e.tableData=a,e.tableData.forEach(function(t,a){t.buildDate=e.getDateStyle(t.buildDate),"北京市"===t.province?t.addressabbr=t.province+t.distric:"天津市"===t.province?t.addressabbr=t.province+t.distric:"上海市"===t.province?t.addressabbr=t.province+t.distric:"重庆市"===t.province?t.addressabbr=t.province+t.distric:t.addressabbr=t.province+t.city+t.distric,t.manageUnit=e.unitsList.filter(function(a){return a.id===t.manageUnit})[0].unitName})}).catch(function(t){console.log(t)})},handleCurrentChange:Object(o.a)(function(t){var a=new URLSearchParams;a.append("dataStatus",1),a.append("userId",1),a.append("page",t),this.getData("/api/room/room_list",{params:a})},200),unFreezeData:function(t){var a=this;this.$confirm("考场恢复使用后，可在考场列表中查看。确定恢复？","考场恢复",{confirmButtonText:"确认",cancelButtonText:"取消"}).then(function(){var e=new URLSearchParams;e.append("id",t),e.append("dataStatus",0),a.$http.post("/api/room/update_status",e).then(function(t){var e=new URLSearchParams;e.append("userId",1),e.append("dataStatus",1),a.getData("/api/room/room_list",{params:e}),a.$message({type:"success",message:"恢复成功!"}),a.reload()})}).catch(function(){a.$message({type:"warning",message:"已取消恢复"})})},handldetails:function(t){this.$router.push({name:"examRoomDetail",query:{id:t}})}},mounted:function(){var t=new URLSearchParams;t.append("userId",1),t.append("dataStatus",1),this.getData("/api/room/room_list",{params:t})}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"frozenRoom"},[e("commonTop",{attrs:{titleTop:t.titleTop}}),t._v(" "),e("p",[t._v("共有"),e("span",[t._v(t._s(t.total))]),t._v("/"),e("span",[t._v(t._s(t.total))]),t._v("条结果")]),t._v(" "),e("div",{staticClass:"tabs-data"},[e("el-table",{staticStyle:{width:"100%,padding:0"},attrs:{stripe:"",data:t.tableData}},[e("el-table-column",{attrs:{prop:"province",label:"省份",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{prop:"examRoomCode",label:"考场编号",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{label:"座位数",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.seatSize+"个"))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"addressabbr",label:"地址",width:"280"}}),t._v(" "),e("el-table-column",{attrs:{prop:"buildDate",label:"设立时间",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"manageUnit",label:"管理单位",width:"256"}}),t._v(" "),e("el-table-column",{attrs:{label:"管理操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"recoverBtn",attrs:{type:"text",icon:"iconfont icon-huifu",disabled:t.isDisable},on:{click:function(e){return e.preventDefault(),t.unFreezeData(a.row.id)}}},[t._v("恢复")]),t._v(" "),e("el-button",{attrs:{type:"text",icon:"iconfont icon-xiangqing"},on:{click:function(e){return e.preventDefault(),t.handldetails(a.row.id)}}},[t._v("详情")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{background:"",total:t.total,layout:"prev, pager, next","current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var s={name:"frozenRoom",components:{frozenRoomComponent:e("C7Lr")(r,i,!1,function(t){e("OqCA")},"data-v-6c0025b3",null).exports},data:function(){return{}}},l={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"exammanage"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"iconfont icon-kaochangguanli-"}),this._v("考场管理")]),this._v(" "),a("frozenRoomComponent")],1)],1)],1)},staticRenderFns:[]};var c=e("C7Lr")(s,l,!1,function(t){e("pU1P")},"data-v-30800afb",null);a.default=c.exports},OqCA:function(t,a){},pU1P:function(t,a){}});
//# sourceMappingURL=11.406fa2661bae94530553.js.map